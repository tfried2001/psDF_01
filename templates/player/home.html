{% extends "base.html" %}

{% block title %}
    Home: {{ user.username }}
{% endblock title %}

{% block content %}
<h2 class="text-primary">Welcome, {{ user.username }}</h2>

<div class="row">
    <div class="col-md-6">
        <h3>Your Games:</h3>
        <ul class="list-group">
            {% for m in myGames %}
            <a class="list-group-item" href="{{ m.get_absolute_url }}">{{ m.first_player }} vs {{ m.second_player }}</a>
            {% endfor %}
        </ul>
        <h3>Your Active Games:</h3>
        <ul class="list-group">
            {% for g in activeGames %}
            <a class="list-group-item" href="{{ g.get_absolute_url }}">{{ g.first_player }} vs {{ g.second_player }}</a>
            {% endfor %}
        </ul>
        <p>Click below to invite someone to play!</p>
        <p>
            <a class="btn btn-primary" href="{% url 'player_new_invitation' %}">
                Start a game
            </a>
        </p>
    </div>
    <div class="col-md-6">
        <h3>Received Invitations:</h3>
        {% if receivedInvitations %}
        <div class="list-group">
            {% for r in receivedInvitations %}
            <a class="list-group-item" href="{% url 'player_accept_invitation' id=r.id %}">
                {{ r.from_user.username }} has invited you to a game.
            </a>
            {% endfor %}
            </ul>
        </div>
        {% else %}
        <p>You have no received invitations.</p>
        {% endif %}
        {% if sentInvitations %}
        <h3>Sent Invitations:</h3>
        <div class="list-group">
                {% for s in sentInvitations %}
                <a class="list-group-item" href="{{ s.get_absolute_url }}">Id: {{ s.id }} From: {{ s.from_user }} To: {{ s.to_user }} Message: {{ s.message }}</a>
                {% endfor %}
        </div>
        {% else %}
        <p>You have not sent any invitations.</p>
        {% endif %}
    </div>
</div>

{% endblock content %}